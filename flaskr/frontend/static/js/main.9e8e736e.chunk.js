(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{26:function(e,t,a){e.exports=a.p+"static/media/logo.3a84a516.jpg"},32:function(e,t,a){e.exports=a(51)},37:function(e,t,a){},47:function(e,t,a){},51:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(22),l=a.n(c),o=(a(37),a(23)),s=a(24),i=a(31),m=a(30),u=a(12),d=a(1),f=a(13),b=a.n(f),p=a(25),j=a(10),v=a(3),g=a(7),h=a(26),E=a.n(h),_=a(27),O=a.n(_),y=a(28),N=a.n(y),k=function(){var e="https://dndn.us",t=Object(r.useState)({original_url:null,url_key:null}),a=Object(g.a)(t,2),c=a[0],l=a[1],o=Object(r.useState)("?????"),s=Object(g.a)(o,2),i=s[0],m=s[1],u=Object(r.useState)(),d=Object(g.a)(u,2),f=d[0],h=d[1],_=Object(r.useState)({original_url_error:null,url_key_error:null,server_error:null}),y=Object(g.a)(_,2),k=y[0],x=y[1],w=Object(r.useState)(!1),S=Object(g.a)(w,2),C=S[0],D=S[1],L=function(e){e.preventDefault(),x({original_url_error:null,url_key_error:null,server_error:null}),"url_key"===e.target.id&&m(e.target.value),l(Object(v.a)(Object(v.a)({},c),{},Object(j.a)({},e.target.id,e.target.value)))},T=function(t){t.preventDefault();var a="".concat(e,"/").concat(f);O()(a)},A=n.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t=function(){var e=Object(p.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/shorten",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(c)}).then((function(e){e.json().then((function(t){if(e.ok)h(t.short_url);else{var a=t.message;x(" URL Key Is Used!"===a?Object(v.a)(Object(v.a)({},k),{},{url_key_error:"\u0627\u0644\u0644\u0627\u062d\u0642\u0629 \u0627\u0644\u062a\u064a \u0625\u062e\u062a\u0631\u062a\u0647\u0627 \u0645\u0633\u062a\u0639\u0645\u0644\u0629, \u0623\u062e\u062a\u0631 \u0644\u0627\u062d\u0642\u0629 \u0623\u062e\u0631\u0649"}):" You Should Provide A URL First!"===a?Object(v.a)(Object(v.a)({},k),{},{original_url_error:"\u064a\u062c\u0628 \u0639\u0644\u064a\u0643 \u0625\u0636\u0627\u0641\u0629 \u0631\u0627\u0628\u0637 \u0623\u0648\u0644\u0627"}):" URL is Not Valid"===a?Object(v.a)(Object(v.a)({},k),{},{original_url_error:"\u0627\u0644\u0631\u0627\u0628\u0637 \u0627\u0644\u0630\u064a \u0623\u062f\u062e\u0644\u062a\u0647 \u063a\u064a\u0631 \u0635\u0627\u0644\u062d, \u0627\u0644\u0631\u062c\u0627\u0621 \u0625\u062f\u062e\u0627\u0644 \u0631\u0627\u0628\u0637 \u0622\u062e\u0631"}):Object(v.a)(Object(v.a)({},k),{},{server_error:"\u062d\u062f\u062b \u062e\u0637\u0623 \u0645\u0627, \u0627\u0644\u0631\u062c\u0627\u0621 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629 \u0644\u0627\u062d\u0642\u0627\u064b"}))}l({original_url:null,url_key:null}),D(!1)})).catch((function(e){x(Object(v.a)(Object(v.a)({},e),{},{server_error:"\u062d\u062f\u062b \u062e\u0637\u0623 \u0645\u0627, \u0627\u0644\u0631\u062c\u0627\u0621 \u0625\u0639\u0627\u062f\u0629 \u062a\u062d\u062f\u064a\u062b \u0627\u0644\u0635\u0641\u062d\u0629"}))}))})).catch((function(e){x(Object(v.a)(Object(v.a)({},e),{},{server_error:"\u062d\u062f\u062b \u062e\u0637\u0623 \u0645\u0627, \u0627\u0644\u0631\u062c\u0627\u0621 \u0625\u0639\u0627\u062f\u0629 \u062a\u062d\u062f\u064a\u062b \u0627\u0644\u0635\u0641\u062d\u0629"}))}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();h(),D(!0),t()}},n.a.createElement("div",{className:"form-group row justify-content-end"},n.a.createElement("div",{className:"col-sm-4 col-md-7"},n.a.createElement("label",{htmlFor:"original_url",className:"float-right col-form-label"},": \u0627\u0644\u0631\u0627\u0628\u0637 \u0627\u0644\u0637\u0648\u064a\u0644"),n.a.createElement("input",{onChange:L,type:"text",id:"original_url",className:"form-control"}),n.a.createElement("div",{className:"col-form-label"},n.a.createElement("small",{className:"text-danger"},k.original_url_error)))),n.a.createElement("div",{className:"form-group row justify-content-end"},n.a.createElement("div",{className:"col-sm-1 col-md-3"},n.a.createElement("label",{htmlFor:"url_key",className:"col-form-label"},": \u0627\u0644\u0644\u0627\u062d\u0642\u0629 (\u0627\u062e\u062a\u064a\u0627\u0631\u064a\u0629)"),n.a.createElement("input",{maxLength:"5",onChange:L,type:"text",id:"url_key",className:"form-control"}),n.a.createElement("div",{className:"col-form-label"},k.url_key_error?n.a.createElement("small",{className:"text-danger"},k.url_key_error):n.a.createElement("span",null,"dndn.us/",n.a.createElement("i",{className:"text-danger"},i)," \u21d0  ")))),n.a.createElement("div",{className:"form-group row"},n.a.createElement("div",{className:"col-sm-10 offset-sm-4"},n.a.createElement("button",{type:"submit",className:"btn btn-secondary"},"\u0642\u0635")))),U=n.a.createElement("div",{className:"lds-dual-ring"}),F=A;return F=C&&c.original_url&&c.url_key?U:A,n.a.createElement("div",{className:"mt-5 p-5 bg-light-grey container text-center arabic-font shadow-effect"},n.a.createElement("img",{className:"img-fluid",src:E.a,alt:"DNDN-Logo"}),n.a.createElement("div",{className:"card card-sm-6 card-md-8 card-center"},n.a.createElement("div",{className:"card-header"},"\u0625\u062e\u062a\u0635\u0627\u0631 \u0627\u0644\u0631\u0648\u0627\u0628\u0637 \u0627\u0644\u0637\u0648\u064a\u0644\u0629"),n.a.createElement("div",{className:"card-body bg-light-grey"},F),n.a.createElement("div",{className:"card-footer"},f?n.a.createElement("div",null,n.a.createElement("input",{className:"col-sm-4 col-md-7",readOnly:!0,type:"text",defaultValue:"".concat(e,"/").concat(f)}),n.a.createElement("button",{className:"btn btn-sm mt-1 btn-success",onClick:T},"\u0646\u0633\u062e \u0627\u0644\u0631\u0627\u0628\u0637"),n.a.createElement("div",{className:"mt-2"},"\u0623\u0648 \u0625\u0633\u062a\u062e\u062f\u0645 \u0631\u0645\u0632 \u0627\u0644\u0625\u0633\u062a\u062c\u0627\u0628\u0629 \u0627\u0644\u0633\u0631\u064a\u0639\u0629 \u0639\u0646 \u0637\u0631\u064a\u0642 \u0627\u0644\u062c\u0648\u0627\u0644",n.a.createElement("div",{className:"mt-2"},n.a.createElement(N.a,{value:"".concat(e,"/").concat(f)})))):k.server_error?n.a.createElement("p",{className:"text-danger"},k.server_error):null)))},x=(a(47),function(){var e=Object(d.f)(),t=Object(r.useState)(!1),a=Object(g.a)(t,2),c=a[0],l=a[1],o=Object(r.useState)(!1),s=Object(g.a)(o,2),i=s[0],m=s[1],u=Object(r.useState)(),f=Object(g.a)(u,2),b=f[0],p=f[1],j=null;return Object(r.useEffect)((function(){fetch("/api/shorten/".concat(e.url_key),{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){e.json().then((function(t){e.ok?(p(t.url),setTimeout((function(){l(!0)}),2e3)):m(!0)}))}))}),[e.url_key]),c&&window.location.replace(b),c||i||(j=n.a.createElement("h6",{className:"text-secondary"},"... \u0627\u0644\u0631\u062c\u0627\u0621 \u0625\u0646\u062a\u0638\u0627\u0631 \u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u062a\u0648\u062c\u064a\u0647")),i&&(j=n.a.createElement("h6",{className:"text-danger"},"\u062d\u062f\u062b \u062e\u0637\u0623 \u0645\u0627, \u0627\u0644\u0631\u062c\u0627\u0621 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629 \u0645\u0646 \u062c\u062f\u064a\u062f \u0644\u0627\u062d\u0642\u0627\u064b")),n.a.createElement("div",{className:"container text-center"},j)}),w=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"App"},n.a.createElement(u.a,null,n.a.createElement(d.c,null,n.a.createElement(d.a,{exact:!0,path:"/",component:k}),n.a.createElement(d.a,{exact:!0,path:"/:url_key",component:x}))))}}]),a}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[32,1,2]]]);
//# sourceMappingURL=main.9e8e736e.chunk.js.map